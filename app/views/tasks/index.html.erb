<% if notice.present? && notice.include?('!')%>
    <p class="py-2 px-3 bg-green-50 mb-5 text-green-500 font-medium rounded-lg inline-block" id="notice">
      <%= notice %>
    </p>
<% end %>

<% if notice.present? && notice.include?('erro')%>
    <p class="py-2 px-3 bg-red-50 mb-5 text-red-500 font-medium rounded-lg inline-block" id="notice">
      <%= notice %>
    </p>  
<% end %>

<h1 class="font-bold text-2xl">lista de tarefas</h1>

<div class="mt-4"> <%= render "form", task: @task %> </div>


<div id="tasks" data-controller="tasks">
  <h1 class="font-bold text-lg mb-7">tarefas</h1>
  <% subtypes = []%>
  
  <% @tasks.each do |task| %>
    <% if (subtypes.exclude?(task.subtype)) %>
      <% subtypes.push(task.subtype) %>
      <h2 class="tasks-status">
        <%=task.subtype%>
      </h2>

      <div class="px-5" data-controller="tasks">
        <%= render @tasks.where(subtype: task.subtype) %>
      </div>
    <% end %>
  <% end %>
</div>


